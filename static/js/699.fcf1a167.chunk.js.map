{"version":3,"file":"static/js/699.fcf1a167.chunk.js","mappings":"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","sources":["views/ContactsView/StyledApp.jsx","components/Form/StyledForm.jsx","components/Form/Form.jsx","components/Filter/StyledFilter.jsx","redux/filterSlice/filterHook.js","components/Filter/Filter.jsx","components/ListElement/StyledListElement.jsx","components/ListElement/ListElement.jsx","redux/itemsSlice/itemsHook.js","components/ContactList/StyledContactList.jsx","components/ContactList/ContactList.jsx","views/ContactsView/ContactsView.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const StyledApp = styled.div`\n  border-radius: 10px;\n  max-width: 70%;\n  font-size: 16px;\n  color: #010101;\n  margin: 50px auto;\n  padding: 50px 20px;\n  h1 {\n    font-size: 28px;\n  }\n  /* display: block;\n  border-radius: 10px;\n  max-width: 500px;\n  font-size: 24px;\n  color: #010101;\n  background-color: lightcoral;\n  margin: 50px auto;\n  padding: 15px; */\n`;\n","import styled from 'styled-components';\n\nexport const StyledForm = styled.form`\n  background-color: #c7bea2;\n  display: flex;\n  gap: 20px;\n  align-items: flex-end;\n  flex-basis: 33%;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  border: 2px solid grey;\n  margin-bottom: 20px;\n  border-radius: 5px;\n  padding: 20px;\n  /* border: 2px solid grey;\n  margin-bottom: 20px;\n  border-radius: 5px;\n  padding: 15px; */\n  label {\n    display: block;\n    margin-bottom: 10px;\n  }\n  input {\n    display: block;\n    height: 25px;\n    padding: 5px;\n    border-radius: 5px;\n    border: 1px solid #c7bea2;\n    outline: none;\n    &:focus {\n      border: 1px solid #9a9483;\n    }\n  }\n  button {\n    display: block;\n    padding: 10px;\n    border-radius: 5px;\n    border: 1px solid #9a9483;\n    background-color: #9a9483;\n    color: #e5dcc3;\n    cursor: pointer;\n    transition: ease-in 200ms;\n    :hover {\n      border: 1px solid #e5dcc3;\n      background-color: #e5dcc3;\n      color: #9a9483;\n    }\n  }\n`;\n","import { nanoid } from 'nanoid';\nimport { StyledForm } from './StyledForm';\nimport {\n  useAddItemMutation,\n  useGetItemsQuery,\n} from 'redux/itemsSlice/itemsSlice';\n\nexport const ContactForm = () => {\n  const nameId = nanoid();\n  const numberId = nanoid();\n\n  const { data: items } = useGetItemsQuery();\n  const [addItem] = useAddItemMutation();\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const form = e.target;\n    const { name, number } = form.elements;\n    const alreadyAdded = await items.some(obj => obj.name === name.value);\n    alreadyAdded\n      ? alert(`Contact ${name} has already added`)\n      : await addItem({ name: name.value, number: number.value });\n    form.reset();\n  };\n\n  return (\n    <StyledForm onSubmit={handleSubmit}>\n      <div>\n        <label htmlFor={nameId}>Name</label>\n        <input\n          id={nameId}\n          type=\"text\"\n          name=\"name\"\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n          required\n        />\n      </div>\n      <div>\n        <label htmlFor={numberId}>Number</label>\n        <input\n          id={numberId}\n          type=\"tel\"\n          name=\"number\"\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n          title=\"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +\"\n          required\n        />\n      </div>\n\n      <button type=\"submit\">Add contact</button>\n    </StyledForm>\n  );\n};\n","import styled from 'styled-components';\n\nexport const StyledFilterDiv = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n  label {\n    /* margin-bottom: 15px; */\n  }\n  input {\n    display: block;\n    height: 25px;\n    padding: 5px;\n    border-radius: 5px;\n    border: 1px solid #c7bea2;\n    outline: none;\n    &:focus {\n      border: 1px solid #9a9483;\n    }\n  }\n`;\n","import { useSelector, useDispatch } from 'react-redux';\nimport { setFilter } from './filterSlice';\n\nconst getIFilter = state => state.filter;\n\nconst useFilterSlice = () => {\n  const dispatch = useDispatch();\n  const filter = useSelector(getIFilter);\n  const handleSetFilter = value => dispatch(setFilter(value));\n  return { filter, setFilter: handleSetFilter };\n};\n\nexport default useFilterSlice;\n","import { nanoid } from 'nanoid';\nimport { StyledFilterDiv } from './StyledFilter';\nimport useFilterSlice from 'redux/filterSlice/filterHook';\nconst filterId = nanoid();\n\nexport const Filter = () => {\n  const { filter, setFilter } = useFilterSlice();\n\n  return (\n    <StyledFilterDiv>\n      <label htmlFor={filterId}>Find contacts by name</label>\n      <input\n        onChange={e => {\n          setFilter(e.target.value);\n        }}\n        id={filterId}\n        type=\"text\"\n        value={filter}\n        name=\"filter\"\n      />\n    </StyledFilterDiv>\n  );\n};\n","import styled from 'styled-components';\n\nexport const StyledLi = styled.li`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 10px 0;\n  padding: 20px;\n  background-color: #c7bea2;\n  border-radius: 5px;\n  transition: ease-in 100ms;\n  &:hover {\n    background-color: #e5dcc3;\n  }\n  button {\n    width: 90px;\n    display: block;\n    padding: 10px;\n    border-radius: 5px;\n    border: 1px solid #9a9483;\n    background-color: #9a9483;\n    color: #e5dcc3;\n    cursor: pointer;\n    transition: ease-in 200ms;\n    :hover {\n      border: 1px solid #000;\n      background-color: #e5dcc3;\n      color: #9a9483;\n    }\n    :disabled {\n      border: 1px solid #000;\n      background-color: #fff;\n      color: #eee;\n    }\n  }\n`;\n","import PropTypes from 'prop-types';\nimport { StyledLi } from './StyledListElement';\nimport { useDeleteItemMutation } from 'redux/itemsSlice/itemsSlice';\n\nexport const ListElement = ({ contact }) => {\n  const { name, number, id } = contact;\n\n  const [deleteItem, { isLoading }] = useDeleteItemMutation();\n\n  return (\n    <StyledLi>\n      <p>\n        {name} : {number}\n      </p>\n      <button disabled={isLoading} onClick={() => deleteItem(id)}>\n        {isLoading ? '...Удаляю' : 'Удалить'}\n      </button>\n    </StyledLi>\n  );\n};\n\nListElement.propTypes = {\n  contact: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    number: PropTypes.string.isRequired,\n  }),\n};\n","import { useSelector } from 'react-redux';\nimport { createSelector } from '@reduxjs/toolkit';\nimport { useGetItemsQuery } from 'redux/itemsSlice/itemsSlice';\n\nconst useItemsSlice = () => {\n  const filter = useSelector(state => state.filter.toLowerCase());\n\n  const selectFilteredItems = createSelector(\n    [response => response.data, (_, filter) => filter],\n    (items, filter) => {\n      return (\n        items?.filter(item => item.name.toLowerCase().includes(filter)) ?? []\n      );\n    }\n  );\n  return useGetItemsQuery(undefined, {\n    selectFromResult(result) {\n      return {\n        ...result,\n        filteredItems: selectFilteredItems(result, filter),\n      };\n    },\n  });\n};\n\nexport default useItemsSlice;\n","import styled from 'styled-components';\n\nexport const StyledList = styled.ul`\n  padding: 0;\n  margin: 0;\n`;\n","import { ListElement } from '../ListElement/ListElement';\nimport useItemsSlice from 'redux/itemsSlice/itemsHook';\nimport { StyledList } from './StyledContactList';\n// import { useAuth } from 'redux/auth/auth-selectors';\n\nexport const ContactList = () => {\n  const { filteredItems, error, isLoading } = useItemsSlice();\n  // const { isLoggedIn } = useAuth();\n\n  return (\n    <>\n      {error && (\n        <p>\n          Ой! Что-то пошло не так :( Перезагрузите страницу и попробуйте еще\n          раз.\n        </p>\n      )}\n      {isLoading ? (\n        <b>Загружаем материалы</b>\n      ) : (\n        <StyledList>\n          {filteredItems.map(contact => (\n            <ListElement key={contact.id} contact={contact} />\n          ))}\n        </StyledList>\n      )}\n    </>\n  );\n};\n","import { StyledApp } from './StyledApp';\nimport { ContactForm } from '../../components/Form/Form';\nimport { Filter } from '../../components/Filter/Filter';\nimport { ContactList } from '../../components/ContactList/ContactList';\n\nexport default function ContactsView() {\n  return (\n    <StyledApp>\n      <h1>Phone book</h1>\n      <ContactForm />\n      <h2>Contacts</h2>\n      <Filter />\n      <ContactList />\n    </StyledApp>\n  );\n}\n"],"names":["StyledApp","styled","StyledForm","ContactForm","nameId","nanoid","numberId","items","useGetItemsQuery","data","useAddItemMutation","addItem","handleSubmit","e","preventDefault","form","target","elements","name","number","some","obj","value","alert","reset","onSubmit","htmlFor","id","type","pattern","title","required","StyledFilterDiv","getIFilter","state","filter","dispatch","useDispatch","useSelector","setFilter","filterId","Filter","useFilterSlice","onChange","StyledLi","ListElement","contact","useDeleteItemMutation","deleteItem","isLoading","disabled","onClick","toLowerCase","selectFilteredItems","createSelector","response","_","item","includes","undefined","selectFromResult","result","filteredItems","StyledList","ContactList","useItemsSlice","error","map","ContactsView"],"sourceRoot":""}